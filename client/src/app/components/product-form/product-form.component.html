<div class="product-form">
    <form [formGroup]="productForm" class="form-group">
        <!--  Product image input  -->
        <div class="mb-3">
            <h5>Product image:</h5>
            <app-image-upload
                [imageSrc]="getImageSrc()"
                (onUpload)="onImageUpload($event)"
            ></app-image-upload>
        </div>
        <hr>

        <!--  Product category input  -->
        <div class="mb-3">
            <h5>Product category:</h5>
            <app-category-input
                [selected]="getSelectedCategory()"
                (onSelect)="onCategorySelect($event)"
            ></app-category-input>
        </div>
        <hr>

        <!--  Product details:  -->
        <div class="mb-3">
            <h5>Product details:</h5>
            <div class="form-group">
                <!--  Input field  -->
                <label for="title">
                    Title<span class="required">*</span>
                </label>
                <input
                    id="title"
                    type="text"
                    class="form-control"
                    formControlName="title"
                    placeholder="Product title"
                    [class.is-invalid]="title.touched && !title.valid">
                <!--  Validation errors  -->
                <app-validation-alert
                    [field-control]="title" field-name="title"
                ></app-validation-alert>
            </div>

            <div class="form-group">
                <!--  Input field  -->
                <label for="price">
                    Price<span class="required">*</span>
                </label>
                <input
                    id="price"
                    type="number"
                    min="0" max="999999" step="500"
                    class="form-control"
                    formControlName="price"
                    placeholder="Product price"
                    [class.is-invalid]="price.touched && !price.valid">
                <!--  Validation errors  -->
                <app-validation-alert
                    [field-control]="price" field-name="Price"
                ></app-validation-alert>
            </div>

            <div class="form-group">
                <!--  Input field  -->
                <label for="description">
                    Description<span class="required">*</span>
                </label>
                <textarea
                    id="description"
                    class="form-control"
                    formControlName="description"
                    placeholder="Product description..."
                    [class.is-invalid]="description.touched && !description.valid"
                >
                </textarea>
                <!--  Validation errors  -->
                <app-validation-alert
                    [field-control]="description" field-name="Description"
                ></app-validation-alert>
            </div>

            <div class="form-check mb-3">
                <!--  Input field  -->
                <input
                    id="isPromo"
                    type="checkbox"
                    class="form-check-input"
                    formControlName="isPromo"
                    [class.is-invalid]="isPromo.touched && !isPromo.valid"
                >
                <label class="form-check-label" for="isPromo">
                    Is promo category
                </label>
                <!--  Validation errors  -->
                <app-validation-alert
                    [field-control]="isPromo" field-name="is promo"
                ></app-validation-alert>
            </div>

            <div class="mb-3">
                <button
                    type="submit"
                    [disabled]="!productForm.dirty || productForm.invalid"
                    class="btn btn-primary"
                    (click)="handleSubmit()"
                >Submit
                </button>
            </div>
        </div>

    </form>
</div>
